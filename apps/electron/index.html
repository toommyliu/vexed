<style>
	html,
	body {
		height: 100%;
		width: 100%;
		margin: 0;
		overflow: hidden;
	}

	#swf {
		width: 100%;
		height: 100%;
	}

	#progress-container {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background-color: black;
		display: flex;
		justify-content: center;
		align-items: center;
	}

	#progress {
		width: 75%;
	}
</style>

<script src="./src/renderer/bot/Bot.js"></script>
<script src="./src/renderer/bot/Auth.js"></script>
<script src="./src/renderer/bot/Bank.js"></script>
<script src="./src/renderer/bot/Combat.js"></script>
<script src="./src/renderer/bot/Flash.js"></script>
<script src="./src/renderer/bot/House.js"></script>
<script src="./src/renderer/bot/Inventory.js"></script>
<script src="./src/renderer/bot/Packet.js"></script>
<script src="./src/renderer/bot/Player.js"></script>
<script src="./src/renderer/bot/Quests.js"></script>
<script src="./src/renderer/bot/Settings.js"></script>
<script src="./src/renderer/bot/TempInventory.js"></script>
<script src="./src/renderer/bot/World.js"></script>

<script src="./src/renderer/flash-ipc.js"></script>

<script>
	window.addEventListener('DOMContentLoaded', () => {
		var div = document.createElement('div');
		div.id = 'progress-container';
		document.body.appendChild(div);

		var progress = document.createElement('progress');
		progress.id = 'progress';
		progress.max = "100";
		progress.value = "0";
		document.getElementById('progress-container').appendChild(progress);
	});

	function progress([percentage]) {
		var progress = document.getElementById('progress');
		progress.value = percentage.toString();
		if (percentage === 100) {
			var progressContainer = document.getElementById('progress-container');
			progress?.remove();
			progressContainer?.remove();

			var script = document.createElement('script');
			script.src = './src/renderer/ipc.js';
			document.body.appendChild(script);
		}
	}
</script>

<embed id="swf" src="grimoire.swf" type="application/x-shockwave-flash" allowScriptAccess="always"
	quality="low"></embed>