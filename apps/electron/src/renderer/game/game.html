<!doctype html>
<html lang="en" data-bs-theme="dark">
	<link rel="stylesheet" type="text/css" href="../shared/halfmoon.css" />
	<script src="../shared/bootstrap.js"></script>

	<style>
		:root {
			/* grey-700 */
			--bg-hover: #495057;
		}

		#swf {
			position: fixed;
			bottom: 0;
			right: 0;
			width: 100%;
			height: calc(100% - 27px);
		}

		.checkmark {
			position: absolute;
			right: 10px;
			margin-top: 4px;
		}

		#scripts,
		#tools,
		#packets,
		#options {
			border: none;
			border-radius: 0px;
			outline: none;
		}

		#scripts:hover,
		#tools:hover,
		#packets:hover,
		#options:hover {
			background-color: var(--bg-hover);
			border: none;
			border-radius: 0px;
			outline: none;
		}

		#scripts-load:hover,
		#scripts-devtools:hover,
		#tools-fasttravels:hover,
		#tools-loadergrabber:hover,
		#tools-maid:hover,
		#packets-logger:hover,
		#packets-spammer:hover,
		#option-infinite-range:hover,
		#option-provoke-all:hover,
		#option-provoke-cell:hover,
		#option-enemy-magnet:hover,
		#option-lag-killer:hover,
		#option-hide-players:hover,
		#option-skip-cutscenes:hover,
		#option-walkspeed-item:hover,
		#scripts-load:active,
		#scripts-devtools:active,
		#tools-fasttravels:active,
		#tools-loadergrabber:active,
		#tools-maid:active,
		#packets-logger:active,
		#packets-spammer:active,
		#option-infinite-range:active,
		#option-provoke-all:active,
		#option-provoke-cell:active,
		#option-enemy-magnet:active,
		#option-lag-killer:active,
		#option-hide-players:active,
		#option-skip-cutscenes:active,
		#option-walkspeed-item:active {
			background-color: var(--bg-hover);
		}

		#scripts-load:active,
		#scripts-devtools:active {
			background-color: var(--bg-hover);
		}

		#x,
		#bank {
			border: 1px solid lightgrey !important;
			border-radius: 1px;
			height: 21px;
		}

		#x {
			margin-top: 2px;
			margin-left: 6px;
			margin-right: -1px;
			padding: 0 4px;
		}

		#bank {
			margin-top: 2px;
			margin-left: 5px;
			margin-right: 5px;
			padding: 0 8px;
		}

		#x:hover,
		#bank:hover {
			background-color: var(--bg-hover);
		}
	</style>
	<script>
		// https://github.com/electron/electron/issues/254
		window.$ = window.jQuery = require('../shared/jquery.js');
	</script>

	<script>
		async function progress([percentage]) {
			if (percentage === 100) {
				// $('#nav').show();

				if (window?.account) {
					const { username, password, server } = window.account;
					const bot = Bot.getInstance();
					await bot.sleep(1000);
					await auth.login(username, password);
					if (server !== 'None') {
						await bot.waitUntil(() => auth?.servers?.length > 0);
						await bot.sleep(250);
						auth.connect(server);
						await bot.sleep(1000);
					}
					delete window.account;
				}
			}
		}
	</script>

	<div style="position: relative">
		<embed
			id="swf"
			src="grimoire.swf"
			type="application/x-shockwave-flash"
			quality="low"
			wmode="direct"
		/>
	</div>

	<nav
		class="navbar navbar-expand fixed-top bg-dark-subtle"
		style="height: 27px;"
		id="nav"
	>
		<div class="d-flex justify-content-between w-100">
			<div class="d-flex">
				<div class="dropdown">
					<button
						class="btn btn-sm"
						type="button"
						data-bs-toggle="dropdown"
						aria-expanded="false"
						id="scripts"
						style="color: lightgrey"
					>
						Scripts
					</button>
					<div
						class="dropdown-menu bg-dark-subtle"
						style="
							padding: 0px;
							border-radius: 0px;
							min-width: auto;
							width: max-content;
						"
					>
						<button
							class="dropdown-item"
							type="button"
							id="scripts-load"
							style="color: lightgrey"
						>
							Load
						</button>
						<button
							class="dropdown-item"
							type="button"
							id="scripts-devtools"
							style="color: lightgrey"
						>
							Toggle Dev Tools
						</button>
					</div>
				</div>

				<div class="dropdown">
					<button
						class="btn btn-sm"
						type="button"
						data-bs-toggle="dropdown"
						aria-expanded="false"
						id="tools"
						style="color: lightgrey"
					>
						Tools
					</button>
					<div
						class="dropdown-menu bg-dark-subtle"
						style="
							padding: 0px;
							border-radius: 0px;
							min-width: auto;
							width: max-content;
						"
					>
						<button
							class="dropdown-item"
							type="button"
							id="tools-fasttravels"
							style="color: lightgrey"
						>
							Fast Travels
						</button>
						<button
							class="dropdown-item"
							type="button"
							id="tools-loadergrabber"
						>
							Loader/Grabber
						</button>
						<button
							class="dropdown-item"
							type="button"
							id="tools-maid"
							style="color: lightgrey"
						>
							Maid
						</button>
					</div>
				</div>

				<div class="dropdown">
					<button
						class="btn btn-sm"
						type="button"
						data-bs-toggle="dropdown"
						aria-expanded="false"
						id="packets"
						style="color: lightgrey"
					>
						Packets
					</button>
					<div
						class="dropdown-menu bg-dark-subtle"
						style="
							padding: 0px;
							border-radius: 0px;
							min-width: auto;
							width: max-content;
						"
					>
						<button
							class="dropdown-item"
							type="button"
							id="packets-logger"
							style="color: lightgrey"
						>
							Logger
						</button>
						<button class="dropdown-item" type="button" id="packets-spammer">
							Spammer
						</button>
					</div>
				</div>

				<div class="dropdown">
					<button
						class="btn btn-sm"
						type="button"
						data-bs-toggle="dropdown"
						aria-expanded="false"
						style="color: lightgrey"
						id="options"
					>
						Options
					</button>
					<div
						class="dropdown-menu bg-dark-subtle"
						style="
							padding: 0px;
							border-radius: 0px;
							min-width: auto;
							width: max-content;
						"
					>
						<button
							class="dropdown-item"
							type="button"
							id="option-infinite-range"
							style="color: lightgrey"
						>
							Infinite Range
							<svg
								class="checkmark"
								viewBox="0 0 24 24"
								style="
									width: 1em;
									height: 1em;
									vertical-align: middle;
									display: none;
								"
							>
								<path
									fill="currentColor"
									d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"
								></path>
							</svg>
						</button>
						<button
							class="dropdown-item"
							type="button"
							id="option-provoke-all"
							style="color: lightgrey"
						>
							Provoke All
							<svg
								class="checkmark"
								viewBox="0 0 24 24"
								style="
									width: 1em;
									height: 1em;
									vertical-align: middle;
									display: none;
								"
							>
								<path
									fill="currentColor"
									d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"
								></path>
							</svg>
						</button>
						<button
							class="dropdown-item"
							type="button"
							id="option-provoke-cell"
							style="color: lightgrey"
						>
							Provoke Cell
							<svg
								class="checkmark"
								viewBox="0 0 24 24"
								style="
									width: 1em;
									height: 1em;
									vertical-align: middle;
									display: none;
								"
							>
								<path
									fill="currentColor"
									d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"
								></path>
							</svg>
						</button>
						<button
							class="dropdown-item"
							type="button"
							id="option-enemy-magnet"
							style="color: lightgrey"
						>
							Enemy Magnet
							<svg
								class="checkmark"
								viewBox="0 0 24 24"
								style="
									width: 1em;
									height: 1em;
									vertical-align: middle;
									display: none;
								"
							>
								<path
									fill="currentColor"
									d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"
								></path>
							</svg>
						</button>
						<button
							class="dropdown-item"
							type="button"
							id="option-lag-killer"
							style="color: lightgrey"
						>
							Lag Killer
							<svg
								class="checkmark"
								viewBox="0 0 24 24"
								style="
									width: 1em;
									height: 1em;
									vertical-align: middle;
									display: none;
								"
							>
								<path
									fill="currentColor"
									d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"
								></path>
							</svg>
						</button>
						<button
							class="dropdown-item"
							type="button"
							id="option-hide-players"
							style="color: lightgrey"
						>
							Hide Players
							<svg
								class="checkmark"
								viewBox="0 0 24 24"
								style="
									width: 1em;
									height: 1em;
									vertical-align: middle;
									display: none;
								"
							>
								<path
									fill="currentColor"
									d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"
								></path>
							</svg>
						</button>
						<button
							class="dropdown-item"
							type="button"
							id="option-skip-cutscenes"
							style="color: lightgrey"
						>
							Skip Cutscenes
							<svg
								class="checkmark"
								viewBox="0 0 24 24"
								style="
									width: 1em;
									height: 1em;
									vertical-align: middle;
									display: none;
								"
							>
								<path
									fill="currentColor"
									d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"
								></path>
							</svg>
						</button>
						<div
							class="dropdown-item d-flex align-items-center"
							style="margin-top: -2px; padding: 0px"
							id="option-walkspeed-item"
						>
							<span
								style="
									flex: 1;
									padding: 8px;
									color: lightgrey;
									margin-left: 6px;
								"
								>Walk Speed</span
							>
							<input
								type="number"
								id="option-walkspeed"
								style="
									width: 40px;
									height: auto;
									line-height: 1;
									padding: 0 2px;
									margin-right: 4px;
								"
								value="8"
								min="0"
								max="99"
							/>
						</div>
					</div>
				</div>
			</div>
			<div class="d-flex">
				<select
					class="bg-dark"
					id="pads"
					style="
						height: 21px;
						margin-top: 2px;
						margin-right: -4px;
						padding: 0 10px;
						width: 100px;
						color: lightgrey;
					"
					disabled
				>
					<option value="" selected disabled hidden></option>
					<option value="Center">Center</option>
					<option value="Spawn">Spawn</option>
					<option value="Left">Left</option>
					<option value="Right">Right</option>
					<option value="Top">Top</option>
					<option value="Bottom">Bottom</option>
					<option value="Up">Up</option>
					<option value="Down">Down</option>
				</select>
				<select
					class="bg-dark"
					id="cells"
					style="
						height: 21px;
						margin-top: 2px;
						margin-left: 10px;
						padding: 0 4px;
						width: 100px;
						color: lightgrey;
					"
					disabled
				></select>

				<button class="btn btn-sm" id="x" style="color: lightgrey">x</button>
				<button class="btn btn-sm" id="bank" style="color: lightgrey">
					Bank
				</button>
			</div>
		</div>
	</nav>
</html>
