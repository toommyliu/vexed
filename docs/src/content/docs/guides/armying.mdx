---
title: Armying
description: Guide on how to army with vexed
head:
  - tag: title
    content: Armying guide
---

import { Code, Steps, Aside } from "@astrojs/starlight/components";

export const sampleConfig = String.raw`
{
   "PlayerCount": 4,
   "RoomNumber": "12345",
   "Player1": "player1",
   "Player2": "player2",
   "Player3": "player3",
   "Player4": "player4"
}
`;

export const sampleConfigSets = String.raw`
{
   // ...rest of the config
   "UltraNulgath": {
      "Player1": {
         "SafeClass": "Void Highlord",
         "SafePot": "Elders' Blood",
         "Class": "LegionRevenant",
         "Armor": "LegionRevenant",
         "Weapon": "Valiance",
         "Cape": "Vainglory",
         "Helm": "WizHelm",
         "Pots": ["Felicitous Philtre"],
         "Scroll": "Scroll of Enrage"
      },
      "Player2": {
         "SafeClass": "Void Highlord",
         "SafePot": "Elders' Blood",
         "Class": "StoneCrusher",
         "Weapon": "Lacerate",
         "Cape": "Absolution",
         "Helm": "WizHelm"
      },
      "Player3": {
         "SafeClass": "Void Highlord",
         "SafePot": "Elders' Blood",
         "Class": "LordOfOrder",
         "Weapon": "AweBlast",
         "Cape": "Absolution",
         "Helm": "LuckHelm"
      },
      "Player4": {
         "SafeClass": "Void Highlord",
         "SafePot": "Elders' Blood",
         "Class": "ArchPaladin",
         "Weapon": "Arcana",
         "Cape": "Penitence",
         "Helm": "LuckHelm"
      }
   }
}
`;

Armying is for advanced use cases!

## Configuration

A config file is required for armying. A sample config might look like:

<Code code={sampleConfig} lang="json" title="config.json" />

There is no imposed value for player count—as long as PlayerCount is set, it will look for that many players.
The assumption is made that Player1 acts as the leader.

### Specification

<Steps>

1. PlayerCount

   The size of the army-so scripts know how many players to expect.

2. RoomNumber

   The room number to join.

</Steps>

### Sets

We will define sets using the boss name. You may do it however you want.

<Code code={sampleConfigSets} lang="json" title="config.json" />

The set name is defined as `UltraNulgath`, and the individual items are associated with their player number.

#### Available Set Fields

| Field       | Type       | Description                                                            |
| ----------- | ---------- | ---------------------------------------------------------------------- |
| `SafeClass` | `string`   | Backup class used to prevent pots from arbitrarily locking             |
| `SafePot`   | `string`   | Backup consumable used to prevent pots from arbitrarily locking        |
| `Armor`     | `string`   | Armor to equip                                                         |
| `Class`     | `string`   | Class to equip                                                         |
| `Weapon`    | `string`   | Weapon to equip                                                        |
| `Cape`      | `string`   | Cape to equip                                                          |
| `Helm`      | `string`   | Helm to equip                                                          |
| `Pet`       | `string`   | Pet to equip                                                           |
| `Pots`      | `string[]` | Array of potions to drink (equip → use skill 5 → wait)                 |
| `Scroll`    | `string`   | Final consumable to equip after drinking pots (e.g., Scroll of Enrage) |

#### Equip Order

1.  SafeClass
2.  SafePot
3.  Class
4.  SafePot
5.  Equipment
6.  Potions
7.  Scroll

Equip sets with the [cmd.army_equip_set](/api/army#cmdarmy_equip_set) command.

Note that all fields are optional.

## Writing army scripts

The idea of an army script is one-script that is loaded across all players but will have slight variations in functionality to accomodate the current player.

### Requirements

Army scripts must have the following commands:

<Steps>

1. [cmd.army_set_config()](/api/army#cmdarmy_set_config)

   The name to the config file (under `Documents/vexed/Storage`).

2. [cmd.army_init()](/api/army#cmdarmy_init)

   Begins loading the config and other internal behaviors. Ideally, these commands are called ASAP.

</Steps>

Army scripts should use army-variants of normal commands where possible. Such commands will wait for all players in the army
to complete the task before the next command executes.

<Aside variant="tip">
  Use [cmd.execute_with_army](/api/army#cmdexecute_with_army) to write custom
  actions using internal APIs. You could also use
  [cmd.register_command](/api/misc#cmdregister_command) too.
</Aside>

# Example

View the full example [army_config.json](https://github.com/toommyliu/vexed/blob/main/examples/config/army_config.json).
