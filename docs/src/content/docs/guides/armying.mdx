---
title: Armying
description: Guide on how to army with vexed
head:
  - tag: title
    content: Armying guide
---

import { Code, Steps, Aside } from "@astrojs/starlight/components";

export const sampleConfig = String.raw`
{
   "PlayerCount": 4,
   "RoomNumber": "12345",
   "Player1": "player1",
   "Player2": "player2",
   "Player3": "player3",
   "Player4": "player4"
}
`;

export const sampleConfigSets = String.raw`
{
   // ...rest of the config
   "UltraNulgath": {
      "Player1": {
         "Weapon": "Valiance",
         "Cape": "Vainglory",
         "Helm": "WizHelm",
         "Class": "LegionRevenant"
      },
      "Player2": {
         "Weapon": "Lacerate",
         "Cape": "Absolution",
         "Helm": "WizHelm",
         "Class": "StoneCrusher"
      },
      "Player3": {
         "Weapon": "AweBlast",
         "Cape": "Absolution",
         "Helm": "LuckHelm",
         "Class": "LordOfOrder"
      },
      "Player4": {
         "Weapon": "Arcana",
         "Cape": "Penitence",
         "Helm": "LuckHelm",
         "Class": "ArchPaladin"
      }
   }
}
`;

Armying is for advanced use cases!

## Configuration

A config file is required for armying. A sample config might look like:

<Code code={sampleConfig} lang="json" title="config.json" />

There is no imposed value for player countâ€”as long as PlayerCount is set, it will look for that many players.
The assumption is made that Player1 acts as the leader.

### Specification

<Steps>

1. PlayerCount

   This way, scripts know how many players to expect.

2. RoomNumber

   This way, scripts know which room to join.

</Steps>

### Sets

We will define sets using the boss name.

<Code code={sampleConfigSets} lang="json" title="config.json" />

The set name is defined as `UltraNulgath`, and the individual items are associated with their player number. Sets can also include `Pet`.

Use sets with the [cmd.army_equip_set](/api/army#cmdarmy_equip_set) command.

## Writing army scripts

The idea of an army script is one-script that is loaded across all players but will have slight variations in functionality to accomodate the current player.

### Requirements

Army scripts must have the following commands:

<Steps>

1. [cmd.army_set_config()](/api/army#cmdarmy_set_config)

   The name to the config file (under `Documents/vexed/Storage`).

2. [cmd.army_init()](/api/army#cmdarmy_init)

   Begins loading the config and other internal behaviors. Ideally, these commands are called ASAP.

</Steps>

Army scripts should use army-variants of normal commands where possible. Such commands will wait for all players in the army
to complete the task before the next command executes.

<Aside variant="tip">
  Use [cmd.execute_with_army](/api/army#cmdexecute_with_army) to write custom
  actions using internal APIs. You could also use
  [cmd.register_command](/api/misc#cmdregister_command) too.
</Aside>
